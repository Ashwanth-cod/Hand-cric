<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Technoix Search</title>
  <style>
    body {
      background: #121212;
      color: white;
      font-family: sans-serif;
      padding: 20px;
    }
    h1 { color: #00cc99; }
    .results { margin-top: 20px; }
    .result {
      background: #1e1e1e;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .result a {
      color: #00ccff;
      font-size: 18px;
      text-decoration: none;
    }
    .result p {
      margin: 5px 0;
      color: #ccc;
    }
  </style>
</head>
<body>
  <h1>Technoix Search</h1>
  <div id="results" class="results">Loading...</div>

  <script>
    const params = new URLSearchParams(location.search);
    const query = params.get("q");

    // DuckDuckGo Instant Answer API endpoint
    const duckDuckGoAPI = `https://api.duckduckgo.com/?q=${query}&format=json`;

    function showResults(data) {
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      if (data.RelatedTopics && data.RelatedTopics.length > 0) {
        data.RelatedTopics.forEach(result => {
          if (result.Result && result.FirstURL) {
            const el = document.createElement("div");
            el.className = "result";
            el.innerHTML = `<a href="${result.FirstURL}" target="_blank">${result.Text}</a><p>${result.Result}</p>`;
            resultsDiv.appendChild(el);
          }
        });
      } else {
        resultsDiv.innerHTML = "No results found.";
      }
    }

    // Fetch the DuckDuckGo results
    if (query) {
      fetch(duckDuckGoAPI)
        .then(res => res.json())
        .then(data => showResults(data))
        .catch(error => {
          console.error("Error fetching DuckDuckGo results:", error);
          document.getElementById("results").innerText = "Failed to load results.";
        });
    } else {
      document.getElementById("results").innerText = "No query provided.";
    }
  </script>
</body>
</html>
